import{R as a}from"./react-vendor-EfHycc-t.js";import{I as s}from"./icons-BXW-tQdz.js";import{n as t,v as o,a as e,K as r}from"./index-CCg2rRgv.js";import{u as n}from"./use-accounting-calculations-2iOnH437.js";import{j as d,h as c,G as i,F as l,k as p,f as w,l as m,n as x,m as _,a as h,b as j,d as u,q as v,v as y,w as k,x as C,y as D,z}from"./ui-framework-nn7D7dv2.js";import{R as U,A as g,a as f,X as b,Y as N,T as P,g as T,h as F,c as M,L as A}from"./charts-Dom0rmuL.js";import{AnimatePresence as L}from"./animations-DTB6hMKs.js";import"./database-Ch4ty5VL.js";const I=({trades:I,className:R})=>{const{accountingMethod:S}=t(),B="cash"===S,{filter:G}=o(),[O,K]=a.useState("drawdown"),[V,W]=a.useState(!1),[$,Y]=a.useState("YTD"),{getAllMonthlyTruePortfolios:H}=e(I),X=H(),{tradesWithAccountingPL:q,totalTrades:E,grossPL:J}=n(I);a.useMemo(()=>"all"===G.type?I:I.filter(a=>r(a,G,B)),[I,G,B]);const Q=a.useMemo(()=>{var a;if(!X||0===X.length)return[];let s=0;const t=X.map(a=>{const t=0!==a.startingCapital?a.pl/a.startingCapital*100:0;return s+=t,{month:`${a.month} ${a.year}`,capital:a.finalCapital,pl:a.pl,plPercentage:t,cummPf:s}});if(0===t.length)return[];let o=(null==(a=t[0])?void 0:a.cummPf)||0,e=0;return t.map((a,s)=>{const r=a.cummPf>o;a.cummPf>o&&(o=a.cummPf);const n=o>0?o-a.cummPf:0;n>e&&(e=n);const d=0!==o?a.cummPf/o*100:100;let c=0;if(s>=2){const a=t.slice(Math.max(0,s-2),s+1).map(a=>a.plPercentage),o=a.reduce((a,s)=>a+s,0)/a.length,e=a.reduce((a,s)=>a+Math.pow(s-o,2),0)/a.length;c=Math.sqrt(e)}return{month:a.month,drawdown:-n,ddFromPeak:n,isNewPeak:r,volatility:c,capital:a.capital,plPercentage:a.plPercentage,cummPf:a.cummPf,maxDrawdown:-e,recovery:d}})},[X]),Z=a.useMemo(()=>{var a;if(0===Q.length)return{maxDrawdown:0,avgVolatility:0,currentDrawdown:0,recoveryTime:0,newPeaks:0};const s=Math.min(...Q.map(a=>a.drawdown)),t=Q.reduce((a,s)=>a+s.volatility,0)/Q.length,o=(null==(a=Q[Q.length-1])?void 0:a.drawdown)||0,e=Q.filter(a=>a.isNewPeak).length;let r=0,n=!1,d=0;return Q.forEach((a,s)=>{a.drawdown<-.5&&!n?(n=!0,d=s):a.drawdown>=-.1&&n&&(n=!1,r+=s-d)}),{maxDrawdown:Math.abs(s),avgVolatility:t,currentDrawdown:Math.abs(o),recoveryTime:r,newPeaks:e}},[Q]),aa=({active:a,payload:s,label:t})=>{if(a&&s&&s.length){const a=s[0].payload;return d.jsxs("div",{className:"bg-content1 border border-divider rounded-lg p-3 shadow-lg","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:176:8",children:[d.jsx("p",{className:"font-medium text-sm mb-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:177:10",children:t}),"drawdown"===O?d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-danger text-sm","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:180:14",children:["DD From Peak: ",a.ddFromPeak.toFixed(2),"%"]}),d.jsxs("p",{className:"text-default-600 text-sm","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:183:14",children:["Recovery: ",a.recovery.toFixed(1),"%"]}),a.isNewPeak&&d.jsxs("p",{className:"text-success text-sm font-medium flex items-center gap-1","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:187:16",children:[d.jsx("span",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:span:188:18",children:"🏆"})," New Peak! (DD Reset)"]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-warning text-sm","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:194:14",children:["Volatility: ",a.volatility.toFixed(2),"%"]}),d.jsxs("p",{className:"text-default-600 text-sm","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:197:14",children:["P&L: ",a.plPercentage>=0?"+":"",a.plPercentage.toFixed(2),"%"]})]})]})}return null};return Q&&0!==Q.length?d.jsxs(c,{className:R,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Card:251:4",children:[d.jsxs(i,{className:"flex flex-col gap-3","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:CardHeader:252:6",children:[d.jsxs("div",{className:"flex justify-between items-center w-full","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:253:8",children:[d.jsxs("div",{className:"flex items-center gap-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:254:10",children:[d.jsx("div",{className:"p-1.5 rounded-lg bg-danger/10","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:255:12",children:d.jsx(s,{icon:"lucide:trending-down",className:"text-danger text-sm","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Icon:256:14"})}),d.jsxs("div",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:258:12",children:[d.jsx("h3",{className:"text-lg font-semibold","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:h3:259:14",children:"Drawdown Analysis"}),d.jsx("p",{className:"text-xs text-default-500","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:260:14",children:"Risk and volatility metrics"})]})]}),d.jsx(w,{isIconOnly:!0,variant:"light",size:"sm",onPress:()=>W(!0),className:"text-default-400 hover:text-primary",isDisabled:0===Q.length,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Button:263:10",children:d.jsx(s,{icon:"lucide:maximize-2",className:"w-4 h-4","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Icon:271:12"})})]}),d.jsxs(m,{selectedKey:O,onSelectionChange:a=>K(a),size:"sm",variant:"underlined",classNames:{tabList:"gap-6 w-full relative rounded-none p-0 border-b border-divider",cursor:"w-full bg-primary-500",tab:"max-w-fit px-0 h-8",tabContent:"group-data-[selected=true]:text-primary-500"},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Tabs:276:8",children:[d.jsx(x,{title:d.jsxs("div",{className:"flex items-center gap-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:291:14",children:[d.jsx(s,{icon:"lucide:trending-down",className:"w-4 h-4","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Icon:292:16"}),d.jsx("span",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:span:293:16",children:"Drawdown"})]}),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Tab:288:10"},"drawdown"),d.jsx(x,{title:d.jsxs("div",{className:"flex items-center gap-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:300:14",children:[d.jsx(s,{icon:"lucide:activity",className:"w-4 h-4","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Icon:301:16"}),d.jsx("span",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:span:302:16",children:"Volatility"})]}),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Tab:297:10"},"volatility")]}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:309:8",children:[d.jsxs("div",{className:"text-center","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:310:10",children:[d.jsx("p",{className:"text-xs text-default-500","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:311:12",children:"Max DD"}),d.jsxs("p",{className:"text-sm font-semibold text-danger","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:312:12",children:[Z.maxDrawdown.toFixed(2),"%"]})]}),d.jsxs("div",{className:"text-center","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:316:10",children:[d.jsx("p",{className:"text-xs text-default-500","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:317:12",children:"Current DD"}),d.jsxs("p",{className:"text-sm font-semibold text-warning","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:318:12",children:[Z.currentDrawdown.toFixed(2),"%"]})]}),d.jsxs("div",{className:"text-center","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:322:10",children:[d.jsx("p",{className:"text-xs text-default-500","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:323:12",children:"Avg Volatility"}),d.jsxs("p",{className:"text-sm font-semibold text-primary","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:324:12",children:[Z.avgVolatility.toFixed(2),"%"]})]}),d.jsxs("div",{className:"text-center","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:328:10",children:[d.jsx("p",{className:"text-xs text-default-500","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:329:12",children:"New Peaks"}),d.jsx("p",{className:"text-sm font-semibold text-success","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:330:12",children:Z.newPeaks})]})]})]}),d.jsx(l,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Divider:336:6"}),d.jsx(p,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:CardBody:337:6",children:d.jsx("div",{className:"h-[280px]","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:338:8",children:d.jsx(U,{width:"100%",height:"100%","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:ResponsiveContainer:339:10",children:d.jsx(L,{mode:"wait","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:AnimatePresence:340:12",children:"drawdown"===O?d.jsxs(g,{data:Q,margin:{top:10,right:30,left:20,bottom:20},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:AreaChart:342:16",children:[d.jsx("defs",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:defs:346:18",children:d.jsxs("linearGradient",{id:"colorDrawdown",x1:"0",y1:"0",x2:"0",y2:"1","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:linearGradient:347:20",children:[d.jsx("stop",{offset:"5%",stopColor:"hsl(var(--heroui-danger-500))",stopOpacity:.3,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:stop:348:22"}),d.jsx("stop",{offset:"95%",stopColor:"hsl(var(--heroui-danger-500))",stopOpacity:0,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:stop:349:22"})]})}),d.jsx(f,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--heroui-divider))","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:CartesianGrid:352:18"}),d.jsx(b,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:11},dy:10,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:XAxis:353:18"}),d.jsx(N,{axisLine:!1,tickLine:!1,tick:{fontSize:11},tickFormatter:a=>`${Math.abs(a).toFixed(1)}%`,domain:["dataMin",0],"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:YAxis:360:18"}),d.jsx(P,{content:d.jsx(aa,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:CustomTooltip:367:36"}),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Tooltip:367:18"}),d.jsx(T,{type:"monotone",dataKey:"drawdown",name:"Drawdown",stroke:"hsl(var(--heroui-danger))",fillOpacity:1,fill:"url(#colorDrawdown)",strokeWidth:2,activeDot:{r:4,strokeWidth:2},dot:a=>{const{payload:s}=a;return(null==s?void 0:s.isNewPeak)?d.jsx("circle",{cx:a.cx,cy:a.cy,r:6,fill:"hsl(var(--heroui-success))",stroke:"white",strokeWidth:2,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:circle:381:26"}):null},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Area:368:18"})]}):d.jsxs(F,{data:Q,margin:{top:10,right:30,left:20,bottom:20},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:LineChart:396:16",children:[d.jsx(f,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--heroui-divider))","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:CartesianGrid:400:18"}),d.jsx(b,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:11},dy:10,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:XAxis:401:18"}),d.jsx(N,{axisLine:!1,tickLine:!1,tick:{fontSize:11},tickFormatter:a=>`${a.toFixed(1)}%`,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:YAxis:408:18"}),d.jsx(P,{content:d.jsx(aa,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:CustomTooltip:414:36"}),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Tooltip:414:18"}),d.jsx(M,{type:"monotone",dataKey:"volatility",name:"Volatility",stroke:"hsl(var(--heroui-warning))",strokeWidth:2,dot:{r:3},activeDot:{r:5,strokeWidth:2},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Line:415:18"})]})})})})}),d.jsx(_,{isOpen:V,onOpenChange:W,size:"4xl",scrollBehavior:"inside",classNames:{base:"transform-gpu backdrop-blur-sm",wrapper:"transform-gpu",backdrop:"bg-black/40",closeButton:"text-foreground/60 hover:bg-white/10"},backdrop:"blur","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Modal:432:6",children:d.jsx(h,{className:"bg-white/95 dark:bg-gray-900/95 backdrop-blur-2xl border border-gray-200 dark:border-gray-700 shadow-2xl max-h-[90vh]","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:ModalContent:445:8",children:a=>d.jsxs(d.Fragment,{children:[d.jsx(j,{className:"flex flex-col gap-1 border-b border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-900/80 px-4 py-3","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:ModalHeader:448:14",children:d.jsxs("div",{className:"flex items-center gap-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:449:16",children:[d.jsx("div",{className:"p-1.5 rounded-lg bg-danger/10","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:450:18",children:d.jsx(s,{icon:"lucide:trending-down",className:"text-danger text-sm","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Icon:451:20"})}),d.jsxs("div",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:453:18",children:[d.jsx("span",{className:"text-base font-semibold","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:span:454:20",children:"Detailed Drawdown Analysis"}),d.jsxs("p",{className:"text-xs text-default-500 mt-0.5","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:455:20",children:[B?"Cash Basis":"Accrual Basis"," • Risk metrics breakdown"]})]})]})}),d.jsx(u,{className:"p-4","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:ModalBody:461:14",children:d.jsxs("div",{className:"space-y-4","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:462:16",children:[d.jsx("div",{className:"h-[300px]","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:464:18",children:d.jsx(U,{width:"100%",height:"100%","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:ResponsiveContainer:465:20",children:d.jsxs(g,{data:Q,margin:{top:10,right:30,left:30,bottom:30},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:AreaChart:466:22",children:[d.jsx("defs",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:defs:470:24",children:d.jsxs("linearGradient",{id:"colorDrawdownModal",x1:"0",y1:"0",x2:"0",y2:"1","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:linearGradient:471:26",children:[d.jsx("stop",{offset:"5%",stopColor:"hsl(var(--heroui-danger-500))",stopOpacity:.4,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:stop:472:28"}),d.jsx("stop",{offset:"95%",stopColor:"hsl(var(--heroui-danger-500))",stopOpacity:0,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:stop:473:28"})]})}),d.jsx(f,{strokeDasharray:"3 3",stroke:"hsl(var(--heroui-divider))","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:CartesianGrid:476:24"}),d.jsx(b,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:12},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:XAxis:477:24"}),d.jsx(N,{axisLine:!1,tickLine:!1,tick:{fontSize:12},tickFormatter:a=>`${Math.abs(a).toFixed(1)}%`,domain:["dataMin",0],"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:YAxis:483:24"}),d.jsx(P,{content:d.jsx(aa,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:CustomTooltip:490:42"}),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Tooltip:490:24"}),d.jsx(A,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Legend:491:24"}),d.jsx(T,{type:"monotone",dataKey:"drawdown",name:"Drawdown %",stroke:"hsl(var(--heroui-danger))",fillOpacity:1,fill:"url(#colorDrawdownModal)",strokeWidth:2,activeDot:{r:6,strokeWidth:2},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Area:492:24"})]})})}),d.jsxs(v,{"aria-label":"Drawdown analysis table",classNames:{wrapper:"max-h-[300px] border border-divider/30 rounded-lg overflow-hidden",table:"border-collapse",th:"bg-content1/50 text-sm font-medium text-default-600 border-b border-divider/30 px-3 py-2.5",td:"py-2.5 px-3 text-sm border-b border-divider/20",tr:"hover:bg-content1/20 transition-colors"},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Table:507:18",children:[d.jsxs(y,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:TableHeader:517:20",children:[d.jsx(k,{align:"start",width:90,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:TableColumn:518:22",children:"Date"},"date"),d.jsx(k,{align:"center",width:100,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:TableColumn:519:22",children:"Monthly P&L"},"plPercentage"),d.jsx(k,{align:"center",width:110,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:TableColumn:520:22",children:"Cum PF Impact"},"cummPf"),d.jsx(k,{align:"center",width:110,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:TableColumn:521:22",children:"DD From Peak"},"ddFromPeak"),d.jsx(k,{align:"center",width:100,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:TableColumn:522:22",children:"Volatility"},"volatility"),d.jsx(k,{align:"center",width:100,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:TableColumn:523:22",children:"Recovery"},"recovery")]}),d.jsx(C,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:TableBody:525:20",children:Q.map((a,t)=>d.jsxs(D,{className:(a.isNewPeak?"bg-success/10 border-l-4 border-l-success":"hover:bg-content1/50")+" transition-all duration-200","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:TableRow:527:24",children:[d.jsx(z,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:TableCell:531:26",children:d.jsxs("div",{className:"flex items-center gap-1","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:532:28",children:[a.isNewPeak&&d.jsx(s,{icon:"lucide:crown",className:"w-3 h-3 text-warning","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Icon:534:32"}),d.jsx("span",{className:"text-sm","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:span:536:30",children:a.month})]})}),d.jsx(z,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:TableCell:539:26",children:d.jsxs("span",{className:a.plPercentage>=0?"text-success font-medium":"text-danger font-medium","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:span:540:28",children:[a.plPercentage>=0?"+":"",a.plPercentage.toFixed(2),"%"]})}),d.jsx(z,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:TableCell:544:26",children:d.jsxs("span",{className:"text-sm font-medium","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:span:545:28",children:[a.cummPf.toFixed(2),"%"]})}),d.jsx(z,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:TableCell:549:26",children:d.jsx("span",{className:"text-sm font-medium "+(a.ddFromPeak>0?"text-danger":"text-success"),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:span:550:28",children:0===a.ddFromPeak?"0.00%":`${a.ddFromPeak.toFixed(2)}%`})}),d.jsx(z,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:TableCell:554:26",children:d.jsxs("span",{className:"text-warning","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:span:555:28",children:[a.volatility.toFixed(2),"%"]})}),d.jsx(z,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:TableCell:559:26",children:d.jsxs("span",{className:a.recovery>=95?"text-success":"text-warning","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:span:560:28",children:[a.recovery.toFixed(1),"%"]})})]},t))})]})]})})]})})})]}):d.jsxs(c,{className:R,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Card:211:6",children:[d.jsx(i,{className:"flex flex-col gap-3","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:CardHeader:212:8",children:d.jsx("div",{className:"flex justify-between items-center w-full","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:213:10",children:d.jsxs("div",{className:"flex items-center gap-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:214:12",children:[d.jsx("div",{className:"p-1.5 rounded-lg bg-danger/10","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:215:14",children:d.jsx(s,{icon:"lucide:trending-down",className:"text-danger text-sm","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Icon:216:16"})}),d.jsxs("div",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:218:14",children:[d.jsx("h3",{className:"text-lg font-semibold","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:h3:219:16",children:"Drawdown Analysis"}),d.jsx("p",{className:"text-xs text-default-500","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:220:16",children:"Risk and volatility metrics"})]})]})})}),d.jsx(l,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Divider:225:8"}),d.jsx(p,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:CardBody:226:8",children:d.jsxs("div",{className:"flex flex-col items-center justify-center h-[280px] text-center","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:227:10",children:[d.jsx(s,{icon:"lucide:bar-chart-3",className:"w-12 h-12 text-default-300 mb-3","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:Icon:228:12"}),d.jsx("p",{className:"text-default-500 text-sm","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:229:12",children:"No data available for drawdown analysis"}),d.jsx("p",{className:"text-default-400 text-xs mt-1","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:230:12",children:E>0?`${E} trades found, but no monthly portfolio data available`:"Add some trades to see risk metrics"}),d.jsxs("div",{className:"mt-3 p-2 bg-default-100 rounded text-xs text-left","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:div:237:12",children:[d.jsx("p",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:238:14",children:d.jsx("strong",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:strong:238:17",children:"Debug Info:"})}),d.jsxs("p",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:239:14",children:["• Total Trades: ",E]}),d.jsxs("p",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:240:14",children:["• Gross P/L: ₹",J.toFixed(2)]}),d.jsxs("p",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:241:14",children:["• Monthly Portfolios: ",(null==X?void 0:X.length)||0]}),d.jsxs("p",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\analytics\\drawdown-curve.tsx:p:242:14",children:["• Accounting: ",B?"Cash":"Accrual"]})]})]})})]})};export{I as DrawdownCurve};
//# sourceMappingURL=drawdown-curve-BN7mQT-D.js.map
