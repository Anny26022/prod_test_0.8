import{r as a,R as t}from"./react-vendor-EfHycc-t.js";import{I as s}from"./icons-BXW-tQdz.js";import{u as e,n as o,a as n,t as r,r as d,v as i,S as c}from"./index-CCg2rRgv.js";import{j as l,t as m,z as p,q as x,v as _,w as h,x as u,y as j,i as y,m as g,a as w,b,l as f,n as C,F as k,d as D,e as z,f as v,A as U,B as N,C as S,D as I,h as T,G as F,k as P}from"./ui-framework-nn7D7dv2.js";import{motion as B}from"./animations-DTB6hMKs.js";import{R as M,C as E,a as L,X as A,Y as O,T as R,L as J,b as $,B as G,c as K}from"./charts-Dom0rmuL.js";import"./database-Ch4ty5VL.js";const H=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),V=({active:a,payload:t,label:s})=>a&&t&&t.length?l.jsxs(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"bg-background border border-divider p-4 rounded-lg shadow-lg",style:{backgroundColor:"hsl(var(--heroui-content1))",border:"1px solid hsl(var(--heroui-divider))",borderRadius:"8px",padding:"8px 12px"},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:div:33:6",children:[l.jsx("p",{className:"text-sm font-medium text-foreground mb-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:p:46:8",children:s}),t.map((a,t)=>l.jsxs("div",{className:"flex items-center justify-between gap-4 mb-1","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:div:48:10",children:[l.jsxs("div",{className:"flex items-center gap-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:div:49:12",children:[l.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:a.color},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:div:50:14"}),l.jsxs("span",{className:"text-sm text-foreground-600","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:span:54:14",children:[a.name,":"]})]}),l.jsx("span",{className:"text-sm font-semibold text-foreground","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:span:56:12",children:"P/L %"===a.name?`${a.value.toFixed(2)}%`:H(a.value)})]},t))]}):null,Y=({taxesByMonth:a})=>{const{trades:t}=e(),{accountingMethod:s}=o(),{getPortfolioSize:r,getAllMonthlyTruePortfolios:d}=n(t),i=(new Date).getFullYear(),c=d().filter(a=>a.year===i),m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(t=>{const s={Jan:"January",Feb:"February",Mar:"March",Apr:"April",May:"May",Jun:"June",Jul:"July",Aug:"August",Sep:"September",Oct:"October",Nov:"November",Dec:"December"}[t],e=(c.find(a=>a.month===t)||{pl:0}).pl,o=a[s||""]||0,n=e-o,d=r(t,i);return{month:t,grossPL:e,netPL:n,taxes:o,plPercent:d>0?e/d*100:0}});return l.jsx(B.div,{className:"h-[350px]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:div:118:4",children:l.jsx(M,{width:"100%",height:"100%","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:ResponsiveContainer:124:6",children:l.jsxs(E,{data:m,margin:{top:20,right:30,left:20,bottom:20},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:ComposedChart:125:8",children:[l.jsx(L,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--heroui-divider))","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:CartesianGrid:129:10"}),l.jsx(A,{dataKey:"month",axisLine:!1,tickLine:!1,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:XAxis:130:10"}),l.jsx(O,{yAxisId:"left",tickFormatter:a=>H(a),axisLine:!1,tickLine:!1,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:YAxis:135:10"}),l.jsx(O,{yAxisId:"right",orientation:"right",tickFormatter:a=>`${a}%`,axisLine:!1,tickLine:!1,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:YAxis:141:10"}),l.jsx(R,{content:l.jsx(V,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:CustomTooltip:149:21"}),cursor:{fill:"transparent"},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:Tooltip:148:10"}),l.jsx(J,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:Legend:152:10"}),l.jsx($,{y:0,yAxisId:"left",stroke:"hsl(var(--heroui-divider))","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:ReferenceLine:153:10"}),l.jsx(G,{yAxisId:"left",dataKey:"grossPL",name:"Gross P/L",fill:"hsl(var(--heroui-primary-500))",radius:[4,4,0,0],barSize:20,animationBegin:0,animationDuration:800,animationEasing:"ease-out","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:Bar:154:10"}),l.jsx(G,{yAxisId:"left",dataKey:"netPL",name:"Net P/L",fill:"hsl(var(--heroui-success-500))",radius:[4,4,0,0],barSize:20,animationBegin:200,animationDuration:800,animationEasing:"ease-out","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:Bar:165:10"}),l.jsx(G,{yAxisId:"left",dataKey:"taxes",name:"Taxes",fill:"hsl(var(--heroui-danger-500))",radius:[4,4,0,0],barSize:20,animationBegin:400,animationDuration:800,animationEasing:"ease-out","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:Bar:176:10"}),l.jsx(K,{yAxisId:"right",type:"monotone",dataKey:"plPercent",name:"P/L %",stroke:"hsl(var(--heroui-warning-500))",strokeWidth:2,dot:{r:4},activeDot:{r:6},animationBegin:600,animationDuration:1e3,animationEasing:"ease-out","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-summary-chart.tsx:Line:187:10"})]})})})};function W(){try{const a=localStorage.getItem("taxData");return a?JSON.parse(a):{}}catch(a){return{}}}const q=({value:a,onSave:s,isEditing:e,type:o="text",className:n="",prefix:r=""})=>{const[d,i]=t.useState(a.toString()),c=t.useRef(null);t.useEffect(()=>{e&&c.current&&(c.current.focus(),c.current.select())},[e]);return e?l.jsx(y,{ref:c,type:o,value:d,onValueChange:i,onBlur:()=>{s(d,"blur")},onKeyDown:t=>{"Enter"===t.key?(t.preventDefault(),s(d,"enter")):"Escape"===t.key&&s(a.toString(),"escape")},autoFocus:!0,size:"sm",variant:"bordered",className:`max-w-[120px] ${n}`,classNames:{input:"text-right",inputWrapper:"h-8 min-h-unit-8"},startContent:r?l.jsx("span",{className:"text-default-400","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:span:291:29",children:r}):void 0,min:0,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:Input:276:4"}):l.jsxs(B.span,{className:`inline-block ${n}`,initial:{opacity:.8},animate:{opacity:1},whileHover:{scale:1.02},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:span:264:6",children:[r,a]})},X=({trades:e=[],taxesByMonth:i,setTaxesByMonth:c})=>{const{getPortfolioSize:y}=n(e),{accountingMethod:g}=o(),w="cash"===g,[b,f]=a.useState(null);t.useEffect(()=>{const a=W()[(new Date).getFullYear().toString()]||{};c(a)},[c]);const C=a=>a.substring(0,3),k=["January","February","March","April","May","June","July","August","September","October","November","December"],D=(new Date).getFullYear(),z={};k.forEach(a=>{const t=C(a),s=r(e,t,D,w);s.length>0&&(z[a]=s)});const v=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(a),U=(a,t)=>{f({month:a,value:t.toString()})},N=a.useCallback((a,t)=>{if(b){let t=parseFloat(a);(isNaN(t)||""===a.trim())&&(t=0),t<0&&(t=0),c(a=>{const s={...a,[b.month]:t},e=W(),o=(new Date).getFullYear().toString();return function(a){try{localStorage.setItem("taxData",JSON.stringify(a))}catch(t){}}({...e,[o]:{...e[o]||{},[b.month]:t}}),s}),f(null)}},[b,c]),S=t.useMemo(()=>[{key:"month",label:"Month"},{key:"grossPL",label:"Gross P/L"},{key:"taxes",label:l.jsxs("div",{className:"flex items-center gap-1","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:div:395:8",children:["Taxes",l.jsx(m,{content:"Tax amount for the month.",placement:"top","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:Tooltip:397:10",children:l.jsx(s,{icon:"lucide:info",className:"text-base text-foreground-400 cursor-pointer","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:Icon:398:12"})})]})},{key:"taxPercent",label:"Tax %"},{key:"netPL",label:"Net P/L"},{key:"grossPFImpact",label:"Gross PF Impact"},{key:"netPFImpact",label:l.jsxs("div",{className:"flex items-center gap-1","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:div:418:8",children:["Net PF Impact",l.jsx(m,{content:"Portfolio impact after taxes.",placement:"top","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:Tooltip:420:10",children:l.jsx(s,{icon:"lucide:info",className:"text-base text-foreground-400 cursor-pointer","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:Icon:421:12"})})]})},{key:"returnPercent",label:"Return %"},{key:"totalTrades",label:"Trades"},{key:"winRate",label:"Win Rate"},{key:"avgProfit",label:"Avg Profit"},{key:"avgLoss",label:"Avg Loss"},{key:"avgRR",label:"Avg R:R"}],[]),I=a.useCallback((a,t)=>{const e=(null==b?void 0:b.month)===a.month&&"taxes"===t,o=a[t];if("taxes"===t)return l.jsx(p,{className:"cursor-pointer rounded-md",onClick:()=>U(a.month,a.taxes),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:TableCell:458:8",children:l.jsx("div",{className:"flex items-center justify-end gap-1.5","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:div:463:10",children:e?l.jsx(q,{value:(null==b?void 0:b.value)||"",onSave:N,isEditing:!0,type:"number",prefix:"₹",className:"text-right","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:EditableText:465:14"}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-foreground dark:text-foreground-200","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:span:475:16",children:v(a.taxes)}),l.jsx("span",{className:"text-foreground-400","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:span:478:16",children:l.jsx(s,{icon:"lucide:edit-2",className:"h-2.5 w-2.5","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:Icon:479:18"})})]})})},t);if("month"===t)return l.jsx(p,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:TableCell:490:8",children:l.jsx("span",{className:"font-medium text-foreground dark:text-foreground-200","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:span:491:10",children:a.month})},t);if("number"==typeof o){const a="grossPL"===t||"netPL"===t?v(o):o>=0?`${o.toFixed(2)}%`:`-${Math.abs(o).toFixed(2)}%`;return l.jsx(p,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:TableCell:499:8",children:l.jsx("span",{className:""+(o>=0?"text-success-600 dark:text-success-400":"text-danger-600 dark:text-danger-400"),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:span:500:10",children:a})},t)}return"string"!=typeof o||"#N/A"!==o&&"#DIV/0!"!==o&&"-"!==o?l.jsx(p,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:TableCell:519:6",children:l.jsx("span",{className:"text-foreground dark:text-foreground-200","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:span:520:8",children:String(o)})},t):l.jsx(p,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:TableCell:510:8",children:l.jsx("span",{className:"text-foreground dark:text-foreground-200","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:span:511:10",children:"-"})},t)},[b,i,v,N,U]);return l.jsx("div",{className:"rounded-lg border border-default-200 dark:border-default-100 bg-white dark:bg-gray-900 overflow-hidden","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:div:528:4",children:l.jsx("div",{className:"overflow-auto max-h-[70vh]","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:div:529:6",children:l.jsxs(x,{"aria-label":"Monthly Tax Breakdown Table",classNames:{base:"min-w-[800px]",wrapper:"shadow-none p-0 rounded-none",table:"table-auto",thead:"[&>tr]:first:shadow-none",th:"bg-default-100 dark:bg-gray-950 text-foreground-600 dark:text-white text-xs font-medium uppercase border-b border-default-200 dark:border-gray-800 sticky top-0 z-20 backdrop-blur-sm",td:"py-3 px-4 border-b border-default-200 dark:border-gray-800 text-foreground-800 dark:text-gray-200"},removeWrapper:!0,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:Table:530:8",children:[l.jsx(_,{columns:S,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:TableHeader:542:8",children:a=>l.jsx(h,{className:"whitespace-nowrap","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:TableColumn:544:12",children:a.label},a.key)}),l.jsx(u,{items:k.map(a=>{const t=z[a]||[],s=t.map(a=>({...a,accountingPL:d(a,w)})),e=s.reduce((a,t)=>a+t.accountingPL,0),o=s.filter(a=>a.accountingPL>0),n=s.filter(a=>a.accountingPL<0),r=t.length,c=r>0?(o.length/r*100).toFixed(2)+"%":"-",l=o.length>0?o.reduce((a,t)=>a+t.accountingPL,0)/o.length:"-",m=n.length>0?n.reduce((a,t)=>a+t.accountingPL,0)/n.length:"-",p=i[a]||0,x=e-p,_=0!==e?(p/e*100).toFixed(2)+"%":"0.00%",h=y(C(a),(new Date).getFullYear()),u=h>0?(e/h*100).toFixed(2)+"%":"0.00%",j=h>0?(x/h*100).toFixed(2)+"%":"0.00%",g=u,b="number"==typeof l?l:0,f="number"==typeof m?m:0,k=0!==f?Math.abs(b/f).toFixed(2):"0.00";return{month:a,totalTrades:r,winRate:c,avgProfit:"number"==typeof l?l.toFixed(2):l,avgLoss:"number"==typeof m?m.toFixed(2):m,grossPL:e,taxes:p,netPL:x,taxPercent:_,grossPFImpact:u,netPFImpact:j,returnPercent:g,avgRR:k}}),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:TableBody:549:8",children:a=>l.jsx(j,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-table.tsx:TableRow:597:12",children:t=>I(a,t)},a.month)})]})})})};const Q=({isOpen:e,onOpenChange:o,month:n})=>{if(!n)return null;const r=t.useMemo(()=>n?`taxEditModal_${n}`:"taxEditModal",[n]),[d,i]=t.useState(()=>{if("undefined"!=typeof window){const a=sessionStorage.getItem(r+"_grossPL");if(a)return Number(a)}return 0}),[c,m]=t.useState(()=>{if("undefined"!=typeof window){const a=sessionStorage.getItem(r+"_taxes");if(a)return Number(a)}return 0}),[p,x]=t.useState(()=>{if("undefined"!=typeof window){const a=sessionStorage.getItem(r+"_stcg");if(a)return Number(a)}return 0}),[_,h]=t.useState(()=>{if("undefined"!=typeof window){const a=sessionStorage.getItem(r+"_ltcg");if(a)return Number(a)}return 0}),[u,j]=t.useState(()=>{if("undefined"!=typeof window){const a=sessionStorage.getItem(r+"_stt");if(a)return Number(a)}return 0}),[U,N]=t.useState(()=>{if("undefined"!=typeof window){const a=sessionStorage.getItem(r+"_stampDuty");if(a)return Number(a)}return 0}),[S,I]=t.useState(()=>{if("undefined"!=typeof window){const a=sessionStorage.getItem(r+"_exchangeCharges");if(a)return Number(a)}return 0}),[T,F]=t.useState(()=>{if("undefined"!=typeof window){const a=sessionStorage.getItem(r+"_gst");if(a)return Number(a)}return 0}),[P,B]=t.useState(()=>{if("undefined"!=typeof window){const a=sessionStorage.getItem(r+"_sebiCharges");if(a)return Number(a)}return 0}),[M,E]=t.useState(()=>{if("undefined"!=typeof window){const a=sessionStorage.getItem(r+"_ipft");if(a)return Number(a)}return 0}),[L,A]=t.useState(()=>{if("undefined"!=typeof window){const a=sessionStorage.getItem(r+"_otherCharges");if(a)return Number(a)}return 0}),O=p+_+u+U+S+T+P+M+L,[R,J]=t.useState("");t.useEffect(()=>{sessionStorage.setItem(r+"_grossPL",String(d))},[d,r]),t.useEffect(()=>{sessionStorage.setItem(r+"_taxes",String(c))},[c,r]),t.useEffect(()=>{sessionStorage.setItem(r+"_stcg",String(p))},[p,r]),t.useEffect(()=>{sessionStorage.setItem(r+"_ltcg",String(_))},[_,r]),t.useEffect(()=>{sessionStorage.setItem(r+"_stt",String(u))},[u,r]),t.useEffect(()=>{sessionStorage.setItem(r+"_stampDuty",String(U))},[U,r]),t.useEffect(()=>{sessionStorage.setItem(r+"_exchangeCharges",String(S))},[S,r]),t.useEffect(()=>{sessionStorage.setItem(r+"_gst",String(T))},[T,r]),t.useEffect(()=>{sessionStorage.setItem(r+"_sebiCharges",String(P))},[P,r]),t.useEffect(()=>{sessionStorage.setItem(r+"_ipft",String(M))},[M,r]),t.useEffect(()=>{sessionStorage.setItem(r+"_otherCharges",String(L))},[L,r]),t.useEffect(()=>{e||["_grossPL","_taxes","_stcg","_ltcg","_stt","_stampDuty","_exchangeCharges","_gst","_sebiCharges","_ipft","_otherCharges"].forEach(a=>sessionStorage.removeItem(r+a))},[e,r]);const $=a.useCallback(()=>{if(!n)return;const a=window.location.pathname.split("/"),t=a[a.length-1],s=t&&!isNaN(Number(t))?t:(new Date).getFullYear().toString(),e={...function(){try{const a=localStorage.getItem("taxData");return a?JSON.parse(a):{}}catch(a){return{}}}()};e[s]=e[s]||{},e[s][n]=c,function(a){try{localStorage.setItem("taxData",JSON.stringify(a))}catch(t){}}(e),o(!1),window.dispatchEvent(new Event("storage"))},[n,c,o]),G=d-c,K=0!==d?(c/Math.abs(d)*100).toFixed(2):"0.00",H=a=>{const t=Number(a.target.value);t>O?J("Taxes cannot exceed the sum of detailed charges."):(J(""),m(t))};return t.useEffect(()=>{c>O&&(m(O),J("Taxes cannot exceed the sum of detailed charges."))},[O]),l.jsx(g,{isOpen:e,onOpenChange:o,size:"3xl",scrollBehavior:"inside","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Modal:217:4",children:l.jsx(w,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:ModalContent:223:6",children:a=>l.jsxs(l.Fragment,{children:[l.jsx(b,{className:"flex flex-col gap-1","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:ModalHeader:226:12",children:l.jsxs("div",{className:"flex items-center justify-between","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:div:227:14",children:[l.jsxs("h3",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:h3:228:16",children:["Edit ",n," Tax Data"]}),l.jsxs(f,{"aria-label":"Options",color:"primary",size:"sm",classNames:{tabList:"bg-content2/50 p-0.5 rounded-lg",cursor:"bg-primary rounded-md",tab:"px-3 py-1 data-[selected=true]:text-white"},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Tabs:229:16",children:[l.jsx(C,{title:"Basic","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Tab:239:18"},"basic"),l.jsx(C,{title:"Advanced","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Tab:240:18"},"advanced")]})]})}),l.jsx(k,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Divider:244:12"}),l.jsxs(D,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:ModalBody:245:12",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:div:246:14",children:[l.jsx(y,{label:"Total Trades",type:"number",variant:"bordered",defaultValue:"January"===n?"9":"","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:247:16"}),l.jsx(y,{label:"Win Rate (%)",type:"text",variant:"bordered",defaultValue:"January"===n?"#N/A":"","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:253:16"}),l.jsx(y,{label:"Average Profit (₹)",type:"text",variant:"bordered",defaultValue:"January"===n?"#DIV/0!":"","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:259:16"}),l.jsx(y,{label:"Average Loss (₹)",type:"text",variant:"bordered",defaultValue:"January"===n?"-405.81":"","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:265:16"}),l.jsx(y,{label:"Gross P/L (₹)",type:"number",variant:"bordered",value:String(d),onChange:a=>i(Number(a.target.value)),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:271:16"}),l.jsx(y,{label:"Taxes (₹)",type:"number",variant:"bordered",value:String(c),onChange:H,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:278:16"}),R&&l.jsx("div",{style:{color:"red",fontSize:"0.9em"},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:div:285:31",children:R}),l.jsx(y,{label:"Net P/L (₹)",type:"number",variant:"bordered",value:String(G),isReadOnly:!0,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:286:16"}),l.jsx(y,{label:"Tax Percentage (%)",type:"text",variant:"bordered",value:`${K}%`,isReadOnly:!0,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:293:16"}),l.jsx(y,{label:"Gross PF Impact (%)",type:"text",variant:"bordered",defaultValue:"January"===n?"-1.25%":"","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:300:16"}),l.jsx(y,{label:"Net PF Impact (%)",type:"text",variant:"bordered",defaultValue:"January"===n?"-1.37%":"","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:306:16"}),l.jsx(y,{label:"Return Percentage (%)",type:"text",variant:"bordered",defaultValue:"January"===n?"-1.25%":"","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:312:16"})]}),l.jsx(k,{className:"my-4","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Divider:320:14"}),l.jsxs("div",{className:"space-y-4","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:div:322:14",children:[l.jsx("h4",{className:"text-md font-medium","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:h4:323:16",children:"Tax Calculation Details"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:div:325:16",children:[l.jsx(y,{label:"Short-term Capital Gain",type:"number",variant:"bordered",value:String(p),onChange:a=>x(Number(a.target.value)),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:326:18"}),l.jsx(y,{label:"Long-term Capital Gain",type:"number",variant:"bordered",value:String(_),onChange:a=>h(Number(a.target.value)),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:333:18"}),l.jsx(y,{label:"Securities Transaction Tax",type:"number",variant:"bordered",value:String(u),onChange:a=>j(Number(a.target.value)),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:340:18"}),l.jsx(y,{label:"Stamp Duty",type:"number",variant:"bordered",value:String(U),onChange:a=>N(Number(a.target.value)),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:347:18"}),l.jsx(y,{label:"Exchange Transaction Charges",type:"number",variant:"bordered",value:String(S),onChange:a=>I(Number(a.target.value)),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:354:18"}),l.jsx(y,{label:"GST",type:"number",variant:"bordered",value:String(T),onChange:a=>F(Number(a.target.value)),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:361:18"}),l.jsx(y,{label:"SEBI Charges",type:"number",variant:"bordered",value:String(P),onChange:a=>B(Number(a.target.value)),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:368:18"}),l.jsx(y,{label:"IPFT",type:"number",variant:"bordered",value:String(M),onChange:a=>E(Number(a.target.value)),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:375:18"}),l.jsx(y,{label:"Other Charges",type:"number",variant:"bordered",value:String(L),onChange:a=>A(Number(a.target.value)),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Input:382:18"})]})]})]}),l.jsx(k,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Divider:392:12"}),l.jsxs(z,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:ModalFooter:393:12",children:[l.jsx(v,{variant:"flat",onPress:a,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Button:394:14",children:"Cancel"}),l.jsx(v,{color:"primary",onPress:$,startContent:l.jsx(s,{icon:"lucide:save","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Icon:400:30"}),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax\\tax-edit-modal.tsx:Button:397:14",children:"Save Changes"})]})]})})})};const Z=()=>{const{trades:n}=e(),{accountingMethod:r}=o(),{filter:M}=i(),E="cash"===r,L=Array.from(new Set(n.map(a=>new Date(a.date).getFullYear()))).sort((a,t)=>t-a),A=L.length>0?String(L[0]):String((new Date).getFullYear()),[O,R]=t.useState(A),[J,$]=t.useState(!1),[G,K]=t.useState(!1),[H,V]=t.useState(null),[W,q]=t.useState(!1),[Z,aa]=t.useState({}),[ta,sa]=t.useState(null),ea=["January","February","March","April","May","June","July","August","September","October","November","December"],[oa,na]=t.useState({}),ra=a.useCallback(async()=>{try{const a=await async function(a){try{const t=await c.getTaxData(a);return t?t.data:{}}catch(t){return{}}}(parseInt(O));if(Object.keys(a).length>0)na(t=>({...t,...a}));else{const a={};ea.forEach(t=>{a[t]=0}),na(a)}}catch(a){}},[O]),da=a.useCallback(async()=>{try{const a=await async function(a){try{const t=await c.getCommentaryData(a);return t?t.data:{}}catch(t){return{}}}(O);Object.keys(a).length>0?aa(a):aa({})}catch(a){}},[O]);t.useEffect(()=>{ra(),da()},[ra,da]),t.useEffect(()=>{Object.keys(oa).length>0&&O&&async function(a,t){try{return await c.saveTaxData(a,t)}catch(s){return!1}}(parseInt(O),oa).then(a=>{})},[oa,O]),t.useEffect(()=>{Object.keys(Z).length>0&&O&&async function(a,t){try{return await c.saveCommentaryData(a,t)}catch(s){return!1}}(O,Z).then(a=>{})},[Z,O]),t.useEffect(()=>{const a={};let t=!1;ea.forEach(s=>{s in oa||(a[s]=0,t=!0)}),t&&na(t=>({...a,...t}))},[n,oa]);let ia=n.filter(a=>a.date.startsWith(O));if(E){const a=new Set;ia=ia.filter(t=>{const s=t.id.split("_exit_")[0];return!a.has(s)&&(a.add(s),!0)})}const ca=ia.filter(a=>"Closed"===a.positionStatus||"Partial"===a.positionStatus).sort((a,t)=>new Date(a.date).getTime()-new Date(t.date).getTime()),la=ca.map(a=>a.cummPf).filter(a=>"number"==typeof a&&!isNaN(a)),ma=t.useMemo(()=>{if(0===ca.length)return[];let a=ca[0].cummPf||0,t=0;return ca.map((s,e)=>{const o=s.cummPf||0;d(s,E);const n=s.pfImpact||0,r=o>a;o>a&&(a=o);const i=a>0?a-o:0;let c="",l="neutral";if(0===e)c="DD started",l="start";else if(r)c="Touching new peak equity highs",l="peak";else if(0===i&&t<a){c=`Recovery of ${Math.abs(a-t).toFixed(2)} from dd low of ${a.toFixed(2)}`,l="recovery"}else i>0&&i<5?(c="DD going on",l="mild"):i>=5&&i<15?(c="DD in full force (MODERATE DD)",l="moderate"):i>=15&&(c=`DD in full force (SEVERE DD - RECORD DD IN ${O})`,l="severe");if(e>0){const a=o-t;Math.abs(a)>.5&&(c+=a>0?` • Portfolio up ${a.toFixed(2)}%`:` • Portfolio down ${Math.abs(a).toFixed(2)}%`)}const m=E&&(s.exit1Date||s.exit2Date||s.exit3Date)||s.date,p=`${m}-${s.name}-${e}`,x=Z[p]||c||"No commentary",_=Z[p]?"custom":l||"neutral";return t=o,{date:m,symbol:s.name||"Unknown",stockPFImpact:n,cummPFImpact:o,drawdownFromPeak:i,isNewPeak:r,commentary:x,systemCommentary:c||"No commentary",commentaryType:_,tradeKey:p,accountingMethod:E?"Cash":"Accrual"}})},[ca,E,O,Z,ta]);let pa=la.length>0?la[0]:0,xa=0;la.forEach(a=>{if(a>pa&&(pa=a),pa>0){const t=pa-a;t>xa&&(xa=t)}});const _a=xa,ha=la.length?Math.max(...la):0,ua=la.length?Math.min(...la):0;let ja=0;if(E){ja=n.filter(a=>a.date.startsWith(O)).flatMap(a=>Array.isArray(a._expandedTrades)?a._expandedTrades.filter(a=>a._cashBasisExit):a._cashBasisExit?[a]:[]).reduce((a,t)=>a+d(t,E),0)}else ja=ia.reduce((a,t)=>a+d(t,E),0);const ya=ea.reduce((a,t)=>a+(oa[t]||0),0),ga=ja-ya,wa=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(a);return l.jsxs("div",{className:"space-y-6","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:388:4",children:[l.jsxs(B.div,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:389:6",children:[l.jsx("div",{className:"flex items-center gap-3","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:395:8",children:l.jsxs(U,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Dropdown:396:10",children:[l.jsx(N,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:DropdownTrigger:397:12",children:l.jsx(v,{variant:"light",endContent:l.jsx(s,{icon:"lucide:chevron-down",className:"text-sm","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Icon:400:28"}),size:"sm",radius:"full",className:"font-medium text-xs h-7 px-3","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Button:398:14",children:O})}),l.jsx(S,{"aria-label":"Year selection",selectionMode:"single",selectedKeys:[O],onSelectionChange:a=>{const t=Array.from(a)[0];R(t)},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:DropdownMenu:408:12",children:L.map(a=>l.jsx(I,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:DropdownItem:418:16",children:a},a))})]})}),l.jsx("div",{className:"flex items-center gap-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:423:8",children:l.jsx(v,{variant:"light",startContent:l.jsx(s,{icon:"lucide:download",className:"w-3.5 h-3.5","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Icon:426:26"}),size:"sm",radius:"full",className:"font-medium text-xs h-7 px-3","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Button:424:10",children:"Export"})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:435:6",children:[l.jsxs(T,{className:"lg:col-span-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Card:436:8",children:[l.jsxs(F,{className:"flex justify-between items-center","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:CardHeader:437:10",children:[l.jsx("h3",{className:"text-xl font-semibold tracking-tight","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:h3:438:12",children:"Tax Summary"}),l.jsxs(f,{"aria-label":"Chart options",size:"sm",color:"primary",variant:"light",radius:"full",classNames:{tabList:"gap-2 p-0.5",cursor:"bg-primary/20",tab:"px-3 py-1 h-7 data-[selected=true]:text-primary font-medium text-xs",tabContent:"group-data-[selected=true]:text-primary"},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Tabs:439:12",children:[l.jsx(C,{title:"Gross P/L","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Tab:452:14"},"gross"),l.jsx(C,{title:"Net P/L","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Tab:453:14"},"net"),l.jsx(C,{title:"Taxes","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Tab:454:14"},"taxes")]})]}),l.jsx(k,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Divider:457:10"}),l.jsx(P,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:CardBody:458:10",children:l.jsx(Y,{taxesByMonth:oa,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TaxSummaryChart:459:12"})})]}),l.jsxs(T,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Card:462:8",children:[l.jsx(F,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:CardHeader:463:10",children:l.jsx("h3",{className:"text-xl font-semibold tracking-tight","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:h3:464:12",children:"Tax Metrics"})}),l.jsx(k,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Divider:466:10"}),l.jsxs(P,{className:"p-6 space-y-8","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:CardBody:467:10",children:[l.jsxs("div",{className:"space-y-4","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:468:12",children:[l.jsxs("div",{className:"flex justify-between items-center","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:469:14",children:[l.jsxs("div",{className:"flex items-center gap-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:470:16",children:[l.jsx("span",{className:"text-default-600","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:471:18",children:"Max Cumm PF"}),l.jsx(m,{content:l.jsxs("div",{className:"max-w-xs p-2 space-y-2 text-sm","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:474:22",children:[l.jsx("p",{className:"font-medium text-default-600","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:475:24",children:"Maximum Cumulative Profit Factor"}),l.jsx("p",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:476:24",children:"The highest point your cumulative profit factor reached during this period."}),l.jsxs("div",{className:"space-y-1","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:477:24",children:[l.jsx("p",{className:"font-medium","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:478:26",children:"What it means:"}),l.jsx("p",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:479:26",children:"• Higher values indicate stronger performance peaks"}),l.jsx("p",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:480:26",children:"• Shows your best momentum in the market"}),l.jsx("p",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:481:26",children:"• Helps identify optimal trading conditions"})]}),l.jsx("p",{className:"text-xs text-default-400 mt-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:483:24",children:"Tip: Use this as a benchmark for your trading potential"})]}),placement:"right",showArrow:!0,classNames:{base:"bg-content1",content:"p-0"},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Tooltip:472:18",children:l.jsx(v,{isIconOnly:!0,size:"sm",variant:"light",className:"min-w-unit-5 w-unit-5 h-unit-5 text-default-400","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Button:495:20",children:l.jsx(s,{icon:"lucide:info",className:"w-3 h-3","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Icon:501:22"})})})]}),l.jsxs("span",{className:"text-[#00B386] font-medium","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:505:16",children:[ha.toFixed(2),"%"]})]}),l.jsxs("div",{className:"flex justify-between items-center","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:507:14",children:[l.jsxs("div",{className:"flex items-center gap-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:508:16",children:[l.jsx("span",{className:"text-default-600","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:509:18",children:"Min Cumm PF"}),l.jsx(m,{content:l.jsxs("div",{className:"max-w-xs p-2 space-y-2 text-sm","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:512:22",children:[l.jsx("p",{className:"font-medium text-default-600","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:513:24",children:"Minimum Cumulative Profit Factor"}),l.jsx("p",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:514:24",children:"The lowest point your cumulative profit factor reached during this period."}),l.jsxs("div",{className:"space-y-1","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:515:24",children:[l.jsx("p",{className:"font-medium","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:516:26",children:"What it means:"}),l.jsx("p",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:517:26",children:"• Shows your resilience during tough periods"}),l.jsx("p",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:518:26",children:"• Helps identify risk management needs"}),l.jsx("p",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:519:26",children:"• Important for setting stop-loss levels"})]}),l.jsx("p",{className:"text-xs text-default-400 mt-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:521:24",children:"Tip: Use this to improve your risk management strategy"})]}),placement:"right",showArrow:!0,classNames:{base:"bg-content1",content:"p-0"},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Tooltip:510:18",children:l.jsx(v,{isIconOnly:!0,size:"sm",variant:"light",className:"min-w-unit-5 w-unit-5 h-unit-5 text-default-400","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Button:533:20",children:l.jsx(s,{icon:"lucide:info",className:"w-3 h-3","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Icon:539:22"})})})]}),l.jsxs("span",{className:"text-[#FF3B3B] font-medium","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:543:16",children:[ua.toFixed(2),"%"]})]}),l.jsxs("div",{className:"flex justify-between items-center","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:545:14",children:[l.jsxs("div",{className:"flex items-center gap-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:546:16",children:[l.jsx("span",{className:"text-default-600","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:547:18",children:"Drawdown"}),l.jsx(v,{isIconOnly:!0,size:"sm",variant:"light",className:"min-w-unit-5 w-unit-5 h-unit-5 text-default-400 hover:text-primary transition-colors",onPress:()=>q(!0),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Button:548:18",children:l.jsx(s,{icon:"lucide:table",className:"w-3 h-3","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Icon:555:20"})})]}),0===_a?l.jsxs("span",{className:"text-[#00B386] font-medium flex items-center gap-1","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:559:18",children:[l.jsx(s,{icon:"lucide:rocket",className:"w-4 h-4","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Icon:560:20"}),"Hurray! Flying high"]}):l.jsxs("span",{className:"text-[#FF3B3B] font-medium text-sm","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:564:18",children:[_a.toFixed(2),"% OF PF LOST FROM TOP"]})]})]}),l.jsx(k,{className:"my-4","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Divider:569:12"}),l.jsxs("div",{className:"space-y-4","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:571:12",children:[l.jsxs("div",{className:"flex justify-between items-center","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:572:14",children:[l.jsx("div",{className:"flex items-center gap-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:573:16",children:l.jsx("span",{className:"text-default-600","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:574:18",children:"Total Gross P/L"})}),l.jsx("span",{className:"font-medium "+(ja>=0?"text-[#00B386]":"text-[#FF3B3B]"),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:576:16",children:wa(ja)})]}),l.jsxs("div",{className:"flex justify-between items-center","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:580:14",children:[l.jsxs("div",{className:"flex items-center gap-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:581:16",children:[l.jsx("span",{className:"text-default-600","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:582:18",children:"Total Taxes"}),l.jsx(m,{content:l.jsx("div",{className:"max-w-xs text-xs p-1","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:585:22",children:0!==ja?`Taxes are ${(ya/ja*100).toFixed(2)}% of Gross P/L.`:"Taxes are 0% of Gross P/L (Total Gross P/L is zero)."}),placement:"right",showArrow:!0,classNames:{base:"bg-content1",content:"p-0"},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Tooltip:583:18",children:l.jsx(v,{isIconOnly:!0,size:"sm",variant:"light",className:"min-w-unit-5 w-unit-5 h-unit-5 text-default-400","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Button:599:20",children:l.jsx(s,{icon:"lucide:info",className:"w-3 h-3","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Icon:605:22"})})})]}),l.jsx("span",{className:"text-[#FF3B3B] font-medium","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:609:16",children:wa(ya)})]}),l.jsxs("div",{className:"flex justify-between items-center","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:613:14",children:[l.jsx("span",{className:"text-default-600","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:614:16",children:"Total Net P/L"}),l.jsx("span",{className:"font-medium "+(ga>=0?"text-[#00B386]":"text-[#FF3B3B]"),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:615:16",children:wa(ga)})]})]})]})]})]}),l.jsxs(T,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Card:623:6",children:[l.jsx(F,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:CardHeader:624:8",children:l.jsx("h3",{className:"text-xl font-semibold tracking-tight","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:h3:625:10",children:"Monthly Tax Breakdown"})}),l.jsx(k,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Divider:627:8"}),l.jsx(P,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:CardBody:628:8",children:l.jsx(X,{trades:n,taxesByMonth:oa,setTaxesByMonth:na,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TaxTable:629:10"})})]}),l.jsx(Q,{isOpen:G,onOpenChange:K,month:H,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TaxEditModal:636:6"}),l.jsx(g,{isOpen:W,onOpenChange:q,size:"3xl",scrollBehavior:"inside",classNames:{base:"transform-gpu backdrop-blur-sm",wrapper:"transform-gpu",backdrop:"bg-black/40",closeButton:"text-foreground/60 hover:bg-white/10"},backdrop:"blur","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Modal:643:6",children:l.jsx(w,{className:"bg-white/95 dark:bg-gray-900/95 backdrop-blur-2xl border border-gray-200 dark:border-gray-700 shadow-2xl max-h-[85vh]","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:ModalContent:656:8",children:a=>l.jsxs(l.Fragment,{children:[l.jsx(b,{className:"flex flex-col gap-1 border-b border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-900/80 px-4 py-3","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:ModalHeader:659:14",children:l.jsxs("div",{className:"flex items-center gap-2","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:660:16",children:[l.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:661:18",children:l.jsx(s,{icon:"lucide:trending-down",className:"text-primary text-sm","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Icon:662:20"})}),l.jsxs("div",{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:664:18",children:[l.jsx("span",{className:"text-base font-semibold","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:665:20",children:"Drawdown Breakdown"}),l.jsxs("p",{className:"text-xs text-default-500 mt-0.5","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:666:20",children:[E?"Cash Basis":"Accrual Basis"," • ",O]})]})]})}),l.jsx(D,{className:"p-4","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:ModalBody:672:14",children:l.jsxs("div",{className:"space-y-3","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:673:16",children:[l.jsx("div",{className:"p-2 bg-content1/20 rounded-lg border border-divider/20","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:674:18",children:l.jsxs("div",{className:"flex items-center justify-between","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:675:20",children:[l.jsxs("p",{className:"text-xs font-medium text-foreground","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:676:22",children:[ma.length," trades • Max DD: ",l.jsxs("span",{className:"text-danger","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:677:68",children:[_a.toFixed(2),"%"]})]}),l.jsx("p",{className:"text-xs text-default-500","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:p:679:22",children:E?"Exit dates":"Entry dates"})]})}),l.jsxs(x,{"aria-label":"Drawdown breakdown table",classNames:{wrapper:"max-h-[55vh] border border-divider/30 rounded-lg overflow-hidden",table:"border-collapse",th:"bg-content1/50 text-sm font-medium text-default-600 border-b border-divider/30 px-3 py-2.5",td:"py-2.5 px-3 text-sm border-b border-divider/20",tr:"hover:bg-content1/20 transition-colors"},removeWrapper:!1,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Table:685:18",children:[l.jsxs(_,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TableHeader:696:20",children:[l.jsx(h,{align:"start",width:90,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TableColumn:697:22",children:"Date"},"date"),l.jsx(h,{align:"start",width:80,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TableColumn:698:22",children:"Symbol"},"symbol"),l.jsx(h,{align:"center",width:110,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TableColumn:699:22",children:"Stock PF Impact"},"stockPF"),l.jsx(h,{align:"center",width:110,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TableColumn:700:22",children:"Cum PF Impact"},"cummPF"),l.jsx(h,{align:"center",width:110,"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TableColumn:701:22",children:"DD From Peak"},"drawdown"),l.jsx(h,{align:"start","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TableColumn:702:22",children:"Commentary"},"commentary")]}),l.jsx(u,{items:ma.filter(a=>a&&a.symbol),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TableBody:704:20",children:a=>l.jsxs(j,{className:(a.isNewPeak?"bg-success/10 border-l-4 border-l-success":"hover:bg-content1/50")+" transition-all duration-200","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TableRow:706:24",children:[l.jsx(p,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TableCell:710:26",children:l.jsxs("div",{className:"flex items-center gap-1","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:711:28",children:[a.isNewPeak&&l.jsx(s,{icon:"lucide:crown",className:"w-3 h-3 text-warning","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Icon:713:32"}),l.jsx("span",{className:"text-sm","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:715:30",children:new Date(a.date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit"})})]})}),l.jsx(p,{className:"font-medium text-sm","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TableCell:718:26",children:a.symbol}),l.jsx(p,{className:"text-center","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TableCell:719:26",children:l.jsxs("span",{className:"text-sm font-medium "+(a.stockPFImpact>=0?"text-success":"text-danger"),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:720:28",children:[a.stockPFImpact>=0?"+":"",a.stockPFImpact.toFixed(2),"%"]})}),l.jsx(p,{className:"text-center","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TableCell:724:26",children:l.jsxs("span",{className:"text-sm font-medium","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:725:28",children:[a.cummPFImpact.toFixed(2),"%"]})}),l.jsx(p,{className:"text-center","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TableCell:729:26",children:l.jsx("span",{className:"text-sm font-medium "+(a.drawdownFromPeak>0?"text-danger":"text-success"),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:730:28",children:0===a.drawdownFromPeak?"0.00%":`-${a.drawdownFromPeak.toFixed(2)}%`})}),l.jsx(p,{"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:TableCell:734:26",children:ta===a.tradeKey?l.jsx(y,{size:"sm",value:Z[a.tradeKey]||a.systemCommentary,onValueChange:t=>aa(s=>({...s,[a.tradeKey]:t})),onBlur:()=>sa(null),onKeyDown:a=>{"Enter"===a.key&&sa(null),"Escape"===a.key&&sa(null)},variant:"bordered",autoFocus:!0,classNames:{input:"text-xs",inputWrapper:"h-7 min-h-unit-7"},"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Input:736:30"}):l.jsxs("div",{className:"text-sm px-2 py-1 rounded font-medium cursor-pointer hover:ring-1 hover:ring-primary/50 transition-all "+(Z[a.tradeKey]?"bg-primary/10 text-primary border border-primary/20":"peak"===a.commentaryType?"bg-success/10 text-success":"recovery"===a.commentaryType?"bg-primary/10 text-primary":"mild"===a.commentaryType?"bg-warning/10 text-warning":"moderate"===a.commentaryType?"bg-danger/10 text-danger":"severe"===a.commentaryType?"bg-danger/20 text-danger":"bg-default/10 text-default-600"),onClick:()=>{return t=a.tradeKey,void sa(t);var t},title:"Click to edit commentary","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:div:757:30",children:[l.jsx("span",{className:"truncate block max-w-[140px]","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:span:770:32",children:a.commentary}),Z[a.tradeKey]&&l.jsx(s,{icon:"lucide:edit-3",className:"w-3 h-3 ml-1 inline opacity-60","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Icon:772:34"})]})})]},`${a.date}-${a.symbol}`)})]})]})}),l.jsx(z,{className:"border-t border-gray-200 dark:border-gray-700 px-4 py-1.5","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:ModalFooter:783:14",children:l.jsx(v,{variant:"flat",onPress:a,size:"sm",className:"w-auto px-4 py-1 text-xs h-7",startContent:l.jsx(s,{icon:"lucide:x",className:"w-3 h-3","data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Icon:789:32"}),"data-locator":"C:\\Users\\anike_jr5dzh1\\Downloads\\nonapi\\prod_test_0.3-master\\src\\components\\tax-analytics.tsx:Button:784:16",children:"Close"})})]})})})]})};export{Z as TaxAnalytics,Z as default};
//# sourceMappingURL=tax-analytics-a1JVCqVB.js.map
